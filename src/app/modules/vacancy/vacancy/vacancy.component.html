<form [formGroup]="vacancyForm">

  <div class="">
    <div class="field">
      <label class="label">Nome</label>
      <div class="control">
        <input class="input" placeholder="Nome da vaga" name="name" type="text" formControlName="name" #name required autocomplete="off"
          [ngClass]="{'is-danger': isInvalid('name')}">
      </div>
      <p class="help is-danger" *ngIf="isInvalid('name')">Nome é inválido</p>
    </div>

    <div class="field">
      <label class="label">Descrição</label>
      <div class="control">
        <textarea class="textarea" placeholder="Descrição" name="description" type="text" formControlName="description" #description
          required autocomplete="off" [ngClass]="{'is-danger': isInvalid('description')}" rows="4"></textarea>
      </div>
      <p class="help is-danger" *ngIf="isInvalid('description')">Descrição é inválida</p>
    </div>

    <app-skill-edit [skills]="getSkills()" (changed)="changeSkills($event)" editable="false" yearsVisible="false">
    </app-skill-edit>

    <div class="mt-4">
      <button type="button" class="button is-link w-150" [disabled]="!vacancyForm.valid" (click)="save()">Salvar</button>
      <button type="button" class="button is-light is-pulled-right w-150" [routerLink]="['/vacancies']">Cancelar</button>
    </div>

    <app-error-messages [messages]="messages" title="Erro ao se cadastrar"></app-error-messages>
  </div>
</form>
